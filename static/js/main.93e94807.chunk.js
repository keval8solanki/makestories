(this.webpackJsonpmakestories=this.webpackJsonpmakestories||[]).push([[0],{159:function(e,t,n){},185:function(e,t){},187:function(e,t){},197:function(e,t){},199:function(e,t){},226:function(e,t){},227:function(e,t){},232:function(e,t){},234:function(e,t){},258:function(e,t){},299:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n(24),s=n.n(a),i=(n(159),n(4)),u=n(11),o=n.n(u),j=n(20),l=n(5),d=n(9),b=n(27),p=n(6),O=n(21),x=n.n(O),h=n(15),f="SET_CURRENT_USER",m="SET_AUTHENTICATION",g=function(e){return{type:f,payload:e}},v=function(e){return{type:m,payload:e}},y={URL:"https://makestories-api.herokuapp.com"},w={SUCCESS:"#4CAF50",ERROR:"#F44336",BLUE:"#2196F3",button:{default:{BACKGROUND_COLOR:"white",TEXT:"black"},disabled:{BACKGROUND_COLOR:"#cccccc",TEXT:"#666666"},BOX_SHADOW:"#00000036",BOX_SHADOW_HOVER:"#00000075"},input:{default:{BORDER:"#0000001a"},BORDER:"#2196F3"}};function C(){var e=Object(i.a)(["\n    display:flex;\n    justify-content: space-between;\n    align-items: center;\n    @media (max-width: 600px) {\n        padding:0px 20px;\n    }\n"]);return C=function(){return e},e}function S(){var e=Object(i.a)(["\n    ",";\n    color: #333;\n    font-size: 1.2em;\n    text-align: left;\n    max-width: 300px;\n\n"]);return S=function(){return e},e}function F(){var e=Object(i.a)(["\n    ",";\n    text-align: left;\n    font-size: 0.8em;\n    font-weight: 500;\n    color: #0000008f;\n"]);return F=function(){return e},e}function R(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 20px;\n"]);return R=function(){return e},e}function _(){var e=Object(i.a)(["\n    max-width: 400px;\n    padding: 60px;\n     @media (max-width: 768px) {\n    display: none;\n  }\n"]);return _=function(){return e},e}function k(){var e=Object(i.a)(["\n    height: 24px;\n    width: 24px;\n    cursor: pointer;\n"]);return k=function(){return e},e}function E(){var e=Object(i.a)(["\n    width: fit-content;\n    margin: 0;\n    padding: 0;\n    text-align: left;\n    font-size: 0.7em;\n    color: red;\n"]);return E=function(){return e},e}function N(){var e=Object(i.a)(["\n    background-color: ",";\n    color: ",";\n    padding: 8px 20px;\n    margin: ",";\n    border-style: none;\n    border-radius: 5px;\n    box-shadow: 1px 2px 5px 0px ",";\n    transition: all 0.3s;\n    outline: none;\n    cursor: pointer;\n    \n    &:disabled{\n        opacity: 0.5;\n        background-color:",";\n        color: ",";\n        box-shadow: none;\n        cursor: not-allowed;\n    }\n\n    &:hover{\n        box-shadow: 1px 2px 5px 0px ",";\n    }\n"]);return N=function(){return e},e}function U(){var e=Object(i.a)(["\n    padding: 5px 10px;\n    min-width: 250px;\n    border-radius: 5px;\n    transition: all 0.3s;\n    outline: none;\n    margin-bottom: 10px;\n    border: 2px solid ",";\n"]);return U=function(){return e},e}function L(){var e=Object(i.a)(["\n    width: fit-content;\n    color: #333;\n    font-weight: 500;\n    text-align: left;\n    font-size: 0.8em;\n    padding-bottom: 5px;\n"]);return L=function(){return e},e}function P(){var e=Object(i.a)(["\n    text-align: left;\n    ",";\n    padding-bottom: 40px;\n"]);return P=function(){return e},e}function A(){var e=Object(i.a)(["\n    width: 300px;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    box-shadow: 1px 1px 6px 0px #0000002b;\n"]);return A=function(){return e},e}function T(){var e=Object(i.a)(["\n    margin: 0;\n    padding: 0;\n"]);return T=function(){return e},e}function D(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return D=function(){return e},e}function B(){var e=Object(i.a)(["\n    border-radius: 5px;\n    box-shadow: 1px 1px 6px 0px #0000002e;\n    padding: 20px;\n    @media (max-width: 600px){\n        margin: 20px;\n    }\n"]);return B=function(){return e},e}var z=Object(l.a)(B()),X=(Object(l.a)(D()),Object(l.a)(T())),q=l.b.form(A()),H=l.b.h2(P(),X),V=l.b.label(L()),Z=w.input,G=l.b.input(U(),(function(e){return function(e){if(e){if(e.error)return w.ERROR;if(e.success)return w.SUCCESS}return Z.default.BORDER}(e)})),K=w.button,I=l.b.button(N(),(function(e){return e?e.backgroundColor:K.default.BACKGROUND_COLOR}),(function(e){return e?e.color:K.default.TEXT}),(function(e){return e?e.margin:"0"}),K.BOX_SHADOW,K.disabled.BACKGROUND_COLOR,K.disabled.TEXT,K.BOX_SHADOW_HOVER),W=(l.b.p(E()),l.b.img(k())),J=l.b.img(_()),M=l.b.div(R()),Q=l.b.p(F(),X),$=l.b.p(S(),X),Y=l.b.div(C()),ee=n(56),te=n.n(ee),ne=function(e){return te.a.AES.encrypt(e,"52kRppS9JDJBKDthfjKg2uSGCK4NSS9kfAqQumFMK6XFGnK84jkmxGp3c65srqQ9uMNKvTSkRHJQCwrEV6SGEUqC8ZsYcEVV6TA2Z9RTLHj7nhtetXNV9htRcenqXyabR7zDh7rNnvVn8TCmSnqPeFX4gdVLHhmRgLHtSmnbLEPNZxd3E5ndefyBCZpWsXPem545ga8UrpN6sRaqH8aszqaV9aUR9VEEUAcffEakW9cVCdG22hXjZ9Ajb6c3LBZR4Lu2eGfnXRKFZBVuQJywy5egmrdMWSFKbm3cpKkGtHQSYq663f8rpy98Baexythg8Wh8RDATTkV8f3n3Yu3LGBm33cShkyzLubMZspCMM5pdCXcDw2CWNckmuwU6J8F5UyQXykFumCxKwAJSP4SFjh5UM6VAMQVwTvL3VHLDWyh7v75SHSwVDT4jjkQZ4udbm3qUpdgaza3FZLCZ7SUgsW7yMAxTqXzr7Nha7aQ2W5sxL4rQ435bDEvAd926Umdv").toString()},re=function(e){return/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(e)},ce=function(e){return/^(?:(?:\+|0{0,2})91(\s*[\-]\s*)?|[0]?)?[789]\d{9}$/.test(e)},ae=function(e){return e>0&&e<=150},se=function(e){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/.test(e)},ie=function(e){if(e)return""!==e.trim()},ue=function(e){return/([0-9]{6}|[0-9]{3}\s[0-9]{3})/.test(e)},oe=n(48),je=(n(297),n(303)),le=oe.a,de=oe.a;le.configure({position:oe.a.POSITION.BOTTOM_RIGHT,autoClose:3e3,pauseOnFocusLoss:!1,toastId:Object(je.a)(),draggablePercent:60}),de.configure({position:oe.a.POSITION.TOP_RIGHT,autoClose:!1,pauseOnFocusLoss:!1,closeOnClick:!1,toastId:Object(je.a)(),draggable:!1,limit:1});var be=n.p+"static/media/login.7691ce84.svg";function pe(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;  \n"]);return pe=function(){return e},e}function Oe(){var e=Object(c.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),i=Object(p.a)(s,2),u=i[0],l=i[1],O=Object(h.b)(),f=Object(d.g)(),m=function(){var e=Object(j.a)(o.a.mark((function e(t){var r,c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={email:n,password:u},c=ne(JSON.stringify(r)),e.prev=3,e.next=6,x.a.post("".concat(y.URL,"/login"),{data:c},{withCredentials:!0});case 6:a=e.sent,(s=a.data)&&(O(g(s.userData)),O(v(!0)),f.push("/user/".concat(s.userData._id))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),le.error("Invalid Credentials");case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),C=re(n)&&se(u);return Object(r.jsxs)(xe,{children:[Object(r.jsxs)(q,{onSubmit:m,children:[Object(r.jsx)(H,{children:"Login"}),Object(r.jsx)(V,{htmlFor:"email",children:"Email *"}),Object(r.jsx)(G,{name:"email",value:n,onChange:function(e){return a(e.target.value)},type:"text",required:!0,error:n&&!re(n),success:re(n)}),Object(r.jsx)(V,{htmlFor:"password",children:"Password *"}),Object(r.jsx)(G,{name:"password",value:u,onChange:function(e){return l(e.target.value)},type:"password",required:!0,error:u&&!se(u),success:se(u)}),Object(r.jsx)(I,{margin:"10px 0px",color:"white",backgroundColor:w.GREEN,disabled:!C,type:"submit",children:"Login"}),Object(r.jsx)(b.b,{style:{marginTop:"20px"},to:"/signup",children:"Need an account?"})]}),Object(r.jsx)(J,{src:be,alt:"Login"})]})}var xe=l.b.div(pe()),he=n.p+"static/media/signup.02ada2b3.svg";function fe(){var e=Object(i.a)(["\n    display:flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return fe=function(){return e},e}function me(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;  \n"]);return me=function(){return e},e}function ge(){var e=Object(c.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),i=Object(p.a)(s,2),u=i[0],l=i[1],O=Object(c.useState)(),f=Object(p.a)(O,2),m=f[0],C=f[1],S=Object(c.useState)(""),F=Object(p.a)(S,2),R=F[0],_=F[1],k=Object(c.useState)(""),E=Object(p.a)(k,2),N=E[0],U=E[1],L=Object(c.useState)(""),P=Object(p.a)(L,2),A=P[0],T=P[1],D=Object(c.useState)(""),B=Object(p.a)(D,2),z=B[0],X=B[1],Z=Object(c.useState)(""),K=Object(p.a)(Z,2),W=K[0],M=K[1],Q=Object(c.useState)(""),$=Object(p.a)(Q,2),Y=$[0],ee=$[1],te=Object(c.useState)(""),oe=Object(p.a)(te,2),je=oe[0],be=oe[1],pe=Object(c.useState)(""),Oe=Object(p.a)(pe,2),xe=Oe[0],fe=Oe[1],me=Object(c.useState)(""),ge=Object(p.a)(me,2),we=ge[0],Ce=ge[1],Se=Object(c.useState)(),Fe=Object(p.a)(Se,2),Re=Fe[0],_e=Fe[1],ke=Object(c.useState)(0),Ee=Object(p.a)(ke,2),Ne=Ee[0],Ue=Ee[1],Le=Object(c.useState)(!1),Pe=Object(p.a)(Le,2),Ae=Pe[0],Te=Pe[1],De=Object(h.b)(),Be=Object(d.g)(),ze=xe===we,Xe=ie(n)&&ie(u)&&ae(m)&&ce(R)&&re(je)&&se(xe)&&ze&&ie(N)&&ie(A)&&ie(W)&&ie(Y)&&ue(z),qe=xe&&!se(xe);qe&&Ae!==qe&&Te(qe),Object(c.useEffect)((function(){Ae&&de.dark(Object(r.jsx)("div",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Password must contain 8 letters"}),Object(r.jsx)("li",{children:"Password must contain 1 UPPERCASE character"}),Object(r.jsx)("li",{children:"Password must contain 1 lowercase character"}),Object(r.jsx)("li",{children:"Password must contain 1 special character (!@#$)"}),Object(r.jsx)("li",{children:"Password must contain 1 numeric character (1234)"})]})}))}),[Ae]);var He=function(){var e=Object(j.a)(o.a.mark((function e(t){var r,c,a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={firstName:n,lastName:u,age:m,phoneNumber:R,address:{street:N,city:A,zipcode:z,state:W,country:Y},email:je,password:xe},c=ne(JSON.stringify(r)),(a=new FormData).append("profile_pic",Re),a.append("data",c),e.prev=6,e.next=9,x.a.post("".concat(y.URL,"/user"),a,{withCredentials:!0});case 9:s=e.sent,i=s.data,De(g(i.savedUserData)),De(v(!0)),Be.push("/user/".concat(i.savedUserData._id)),le.success("Sign up Success"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),le.success(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(ve,{children:[Object(r.jsx)(J,{src:he,alt:"Sign up"}),Object(r.jsxs)(q,{onSubmit:He,children:[Object(r.jsx)(H,{children:"Signup"}),function(){switch(Ne){case 0:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(V,{htmlFor:"email",children:"Email *"}),Object(r.jsx)(G,{name:"email",value:je,onChange:function(e){return be(e.target.value)},type:"text",error:je&&!re(je),success:re(je)}),Object(r.jsx)(V,{htmlFor:"password",children:"Password *"}),Object(r.jsx)(G,{name:"password",value:xe,onChange:function(e){return fe(e.target.value)},type:"password",error:xe&&!se(xe),success:se(xe)}),Object(r.jsx)(V,{htmlFor:"confirm_password",children:"Confirm Password *"}),Object(r.jsx)(G,{name:"confirm_password",value:we,onChange:function(e){return Ce(e.target.value)},type:"password",error:we&&!ze&&!se(we),success:we&&ze&&se(we)}),Object(r.jsx)(V,{htmlFor:"profile_picture",children:"Profile Picture *"}),Object(r.jsx)(G,{name:"profile_picture",type:"file",onChange:function(e){return _e(e.target.files[0])},error:Re&&!Re,success:Re})]});case 1:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(V,{htmlFor:"first_name",children:"First Name *"}),Object(r.jsx)(G,{name:"first_name",value:n,onChange:function(e){return a(e.target.value)},type:"text",success:ie(n)}),Object(r.jsx)(V,{htmlFor:"last_name",children:"Last Name *"}),Object(r.jsx)(G,{name:"last_name",value:u,onChange:function(e){return l(e.target.value)},type:"text",success:ie(u)}),Object(r.jsx)(V,{htmlFor:"age",children:"Age *"}),Object(r.jsx)(G,{value:m,name:"age",onChange:function(e){return C(e.target.value)},type:"number",error:m&&!ae(m),success:ae(m)}),Object(r.jsx)(V,{htmlFor:"phone_number",children:"Phone Number *"}),Object(r.jsx)(G,{name:"phone_number",value:R,onChange:function(e){return _(e.target.value)},type:"text",error:R&&!ce(R),success:ce(R)})]});case 2:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(V,{htmlFor:"street",children:"Street *"}),Object(r.jsx)(G,{name:"street",value:N,onChange:function(e){return U(e.target.value)},type:"text",success:ie(N)}),Object(r.jsx)(V,{htmlFor:"city",children:"City *"}),Object(r.jsx)(G,{name:"city",value:A,onChange:function(e){return T(e.target.value)},type:"text",success:ie(A)}),Object(r.jsx)(V,{htmlFor:"zipcode",children:"Zip Code *"}),Object(r.jsx)(G,{name:"zipcode",value:z,onChange:function(e){return X(e.target.value)},type:"text",error:z&&!ue(z),success:ue(z)}),Object(r.jsx)(V,{htmlFor:"state",children:"State *"}),Object(r.jsx)(G,{name:"state",value:u,onChange:function(e){return M(e.target.value)},type:"text",success:ie(W)}),Object(r.jsx)(V,{htmlFor:"country",children:"Country *"}),Object(r.jsx)(G,{name:"country",value:Y,onChange:function(e){return ee(e.target.value)},type:"text",success:ie(Y)})]})}}(),Object(r.jsxs)(ye,{children:[Ne>0?Object(r.jsx)(I,{margin:"10px 0px",onClick:function(){Ne>0&&Ue((function(e){return e-1}))},children:"Back"}):null,2===Ne?Object(r.jsx)(I,{color:"white",margin:"10px 0px",backgroundColor:w.BLUE,disabled:!Xe,type:"submit",children:"Sign in"}):Object(r.jsx)(I,{color:"white",margin:"10px 0px",backgroundColor:w.BLUE,onClick:function(){Ne<2&&Ue((function(e){return e+1}))},children:"Next"})]}),Object(r.jsx)(b.b,{style:{marginTop:"20px"},to:"/login",children:"Already have an account?"})]})]})}var ve=l.b.div(me()),ye=l.b.div(fe()),we=n.p+"static/media/edit.836f7dde.svg",Ce=n.p+"static/media/logout.ac15fe02.svg";function Se(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: space-between;\n"]);return Se=function(){return e},e}function Fe(){var e=Object(i.a)(["\n    padding: 20px;\n"]);return Fe=function(){return e},e}function Re(){var e=Object(i.a)(["\n    height: 200px;\n    width: 200px;\n    border-radius: 200px;\n    border: 3px solid #4CAF50;\n    padding: 5px;\n    margin-right: 20px;\n    \n    @media (max-width:600px){\n        align-self: center;\n        margin: 0;\n        margin-bottom: 20px;\n    }\n"]);return Re=function(){return e},e}function _e(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    padding: 0px 20px;\n    \n    @media (max-width:650px){ \n        margin: 20px 0px;\n    }\n"]);return _e=function(){return e},e}function ke(){var e=Object(i.a)(["\n    ",";\n    display: flex;\n    justify-content: center;\n    width: fit-content;\n    padding: 40px;\n\n    @media (max-width:600px){\n        flex-direction: column;\n        margin:20px auto;\n        padding: 20px;\n    }\n"]);return ke=function(){return e},e}function Ee(){var e=Object(h.c)((function(e){return e.user_reducer})),t=Object(d.g)(),n=Object(h.b)(),c=(e||{}).currentUser||{},a=c.firstName,s=c.lastName,i=c.age,u=c.address,l=c.phoneNumber,b=c.email,p=c._id,O=u||{},f=O.street,m=O.city,g=O.state,w=O.zipcode,C=O.country,S=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(y.URL,"/logout"),{},{withCredentials:!0});case 3:n(v(!1)),t.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),le.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Pe,{children:Object(r.jsxs)(Ae,{children:[Object(r.jsx)(W,{onClick:S,src:Ce,alt:"Logout"}),Object(r.jsx)(W,{onClick:function(){return t.push("/edit/".concat(p))},src:we,alt:"Edit"})]})}),Object(r.jsxs)(Ne,{children:[Object(r.jsx)(Le,{src:"".concat(y.URL,"/user/").concat(p,"/pic"),alt:"ProfilePic"}),Object(r.jsxs)(Ue,{children:[Object(r.jsxs)(M,{children:[Object(r.jsx)(Q,{children:"First Name"}),Object(r.jsx)($,{children:a})]}),Object(r.jsxs)(M,{children:[Object(r.jsx)(Q,{children:"Last Name"}),Object(r.jsx)($,{children:s})]}),Object(r.jsxs)(M,{children:[Object(r.jsx)(Q,{children:"Email"}),Object(r.jsx)($,{children:b})]}),Object(r.jsxs)(M,{children:[Object(r.jsx)(Q,{children:"Phone Number"}),Object(r.jsx)($,{children:l})]}),Object(r.jsxs)(M,{children:[Object(r.jsx)(Q,{children:"Age"}),Object(r.jsx)($,{children:i})]}),Object(r.jsxs)(M,{children:[Object(r.jsx)(Q,{children:"Street"}),Object(r.jsx)($,{children:f})]}),Object(r.jsxs)(M,{children:[Object(r.jsx)(Q,{children:"City"}),Object(r.jsx)($,{children:m})]}),Object(r.jsxs)(M,{children:[Object(r.jsx)(Q,{children:"Zip code"}),Object(r.jsx)($,{children:w})]}),Object(r.jsxs)(M,{children:[Object(r.jsx)(Q,{children:"State"}),Object(r.jsx)($,{children:g})]}),Object(r.jsxs)(M,{children:[Object(r.jsx)(Q,{children:"Country"}),Object(r.jsx)($,{children:C})]})]})]})]})}var Ne=l.b.div(ke(),z),Ue=l.b.div(_e()),Le=l.b.img(Re()),Pe=l.b.div(Fe()),Ae=l.b.div(Se());function Te(){var e=Object(i.a)(["\n    margin: 30px 0;\n    ",";\n    display: flex;\n    flex-direction: column;\n"]);return Te=function(){return e},e}function De(){var e=Object(i.a)(["\n    //Future Styles\n"]);return De=function(){return e},e}function Be(){var e=Object(i.a)(["\n    padding: 20px 0px;\n\n"]);return Be=function(){return e},e}function ze(){var e=Object(h.c)((function(e){return e.user_reducer})),t=Object(h.b)(),n=Object(d.g)(),a=(e||{}).currentUser,s=a||{},i=s._id,u=s.firstName,l=s.lastName,b=s.age,O=s.phoneNumber,f=s.address,m=s.email,v=s.profilePicture,C=f||{},S=C.street,F=C.city,R=C.zipcode,_=C.state,k=C.country,E=Object(c.useState)(u),N=Object(p.a)(E,2),U=N[0],L=N[1],P=Object(c.useState)(l),A=Object(p.a)(P,2),T=A[0],D=A[1],B=Object(c.useState)(b),z=Object(p.a)(B,2),X=z[0],q=z[1],Z=Object(c.useState)(O),K=Object(p.a)(Z,2),W=K[0],J=K[1],M=Object(c.useState)(S),Q=Object(p.a)(M,2),$=Q[0],ee=Q[1],te=Object(c.useState)(F),oe=Object(p.a)(te,2),je=oe[0],de=oe[1],be=Object(c.useState)(R),pe=Object(p.a)(be,2),Oe=pe[0],xe=pe[1],he=Object(c.useState)(_),fe=Object(p.a)(he,2),me=fe[0],ge=fe[1],ve=Object(c.useState)(k),ye=Object(p.a)(ve,2),we=ye[0],Ce=ye[1],Se=Object(c.useState)(m),Fe=Object(p.a)(Se,2),Re=Fe[0],_e=Fe[1],ke=Object(c.useState)(v),Ee=Object(p.a)(ke,2),Ne=Ee[0],Ue=Ee[1],Le=Object(c.useState)(""),Pe=Object(p.a)(Le,2),Ae=Pe[0],Te=Pe[1],De=Object(c.useState)(""),Be=Object(p.a)(De,2),ze=Be[0],Ve=Be[1],Ze=Object(c.useState)(""),Ge=Object(p.a)(Ze,2),Ke=Ge[0],Ie=Ge[1];Object(c.useEffect)((function(){L(u),D(l),q(b),J(O),ee(S),de(F),xe(R),ge(_),Ce(k),_e(m),Ue(v)}),[a,u,l,b,O,S,F,R,_,k,m,v]);var We=function(){var e=Object(j.a)(o.a.mark((function e(r){var c,a,s,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),c={firstName:U,lastName:T,age:X,address:{street:$,city:je,zipcode:Oe,state:me,country:we},email:Re,phoneNumber:W,oldPassword:Ae,password:ze},a=ne(JSON.stringify(c)),(s=new FormData).append("profile_pic",Ne),s.append("data",a),e.prev=6,e.next=9,x.a.patch("".concat(y.URL,"/user/").concat(i),s,{withCredentials:!0});case 9:u=e.sent,j=u.data,t(g(j.updatedUser)),n.goBack(),le.success("User Edited"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),le.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),Je=ie(U)&&ie(T)&&ae(X)&&ce(W)&&re(Re)&&ie($)&&ie(je)&&ie(me)&&ie(me)&&ie(we)&&ue(Oe),Me=ze===Ke,Qe=!(ie(Ae)||ie(ze)||ie(Ke))||se(Ae)&&se(ze)&&se(Ke);return Object(r.jsx)(Xe,{children:Object(r.jsxs)(qe,{onSubmit:We,children:[Object(r.jsxs)(He,{children:[Object(r.jsx)(H,{children:"Personal Details"}),Object(r.jsx)(V,{htmlFor:"first_name",children:"First Name *"}),Object(r.jsx)(G,{name:"first_name",value:U,onChange:function(e){return L(e.target.value)},type:"text",required:!0,success:ie(U)}),Object(r.jsx)(V,{htmlFor:"last_name",children:"Last Name *"}),Object(r.jsx)(G,{name:"last_name",value:T,onChange:function(e){return D(e.target.value)},type:"text",required:!0,success:ie(T)}),Object(r.jsx)(V,{htmlFor:"age",children:"Age *"}),Object(r.jsx)(G,{value:X,name:"age",onChange:function(e){return q(e.target.value)},type:"number",required:!0,error:X&&!ae(X),success:ae(X)}),Object(r.jsx)(V,{htmlFor:"profile_picture",children:"Profile Picture *"}),Object(r.jsx)(G,{name:"profile_picture",onChange:function(e){return Ue(e.target.files[0])},accept:"image/png,image/jpeg",type:"file",error:Ne&&!Ne,success:Ne})]}),Object(r.jsxs)(He,{children:[Object(r.jsx)(H,{children:"Contact Details"}),Object(r.jsx)(V,{htmlFor:"phone_number",children:"Phone Number *"}),Object(r.jsx)(G,{name:"phone_number",value:W,onChange:function(e){return J(e.target.value)},type:"text",required:!0,error:W&&!ce(W),success:ce(W)}),Object(r.jsx)(V,{htmlFor:"email",children:"Email *"}),Object(r.jsx)(G,{name:"email",value:Re,onChange:function(e){return _e(e.target.value)},type:"text",required:!0,error:Re&&!re(Re),success:re(Re)})]}),Object(r.jsxs)(He,{children:[Object(r.jsx)(H,{children:"Address"}),Object(r.jsx)(V,{htmlFor:"street",children:"Street *"}),Object(r.jsx)(G,{name:"street",value:$,onChange:function(e){return ee(e.target.value)},type:"text",success:ie($)}),Object(r.jsx)(V,{htmlFor:"city",children:"City *"}),Object(r.jsx)(G,{name:"city",value:je,onChange:function(e){return de(e.target.value)},type:"text",success:ie(je)}),Object(r.jsx)(V,{htmlFor:"zipcode",children:"Zip Code *"}),Object(r.jsx)(G,{name:"zipcode",value:Oe,onChange:function(e){return xe(e.target.value)},type:"text",error:Oe&&!ue(Oe),success:ue(Oe)}),Object(r.jsx)(V,{htmlFor:"state",children:"State *"}),Object(r.jsx)(G,{name:"state",value:T,onChange:function(e){return ge(e.target.value)},type:"text",success:ie(me)}),Object(r.jsx)(V,{htmlFor:"country",children:"Country *"}),Object(r.jsx)(G,{name:"country",value:we,onChange:function(e){return Ce(e.target.value)},type:"text",success:ie(we)})]}),Object(r.jsxs)(He,{children:[Object(r.jsx)(H,{children:"Change Password"}),Object(r.jsx)(V,{htmlFor:"old_password",children:"Old Password"}),Object(r.jsx)(G,{autoComplete:"new-password",name:"old_password",value:Ae,onChange:function(e){return Te(e.target.value)},type:"password",error:Ae&&!se(Ae),success:se(Ae)}),Object(r.jsx)(V,{htmlFor:"password",children:"New Password"}),Object(r.jsx)(G,{name:"password",value:ze,onChange:function(e){return Ve(e.target.value)},type:"password",error:ze&&!se(ze),success:se(ze)}),Object(r.jsx)(V,{htmlFor:"confirm_password",children:"Confirm New Password"}),Object(r.jsx)(G,{name:"confirm_password",value:Ke,onChange:function(e){return Ie(e.target.value)},type:"password",error:Ke&&!Me&&!se(ze),success:Ke&&Me&&se(Ke)})]}),Object(r.jsxs)(Y,{children:[Object(r.jsx)(I,{onClick:function(){n.goBack()},type:"button",children:"Cancel"}),Object(r.jsxs)(Y,{style:{paddingRight:0},children:[Object(r.jsx)(I,{margin:"0px 20px",onClick:function(){L(u),D(l),q(b),J(O),ee(S),de(F),xe(R),ge(_),Ce(k),_e(m),Ue(v)},color:"white",backgroundColor:"red",type:"button",children:"Reset"}),Object(r.jsx)(I,{color:"white",backgroundColor:w.SUCCESS,disabled:!(Je&&Qe),type:"submit",children:"Update"})]})]})]})})}var Xe=l.b.div(Be()),qe=l.b.form(De()),He=l.b.div(Te(),z);function Ve(){var e=Object(i.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n"]);return Ve=function(){return e},e}function Ze(){var e=Object(i.a)(["\n  text-align: center;\n"]);return Ze=function(){return e},e}var Ge=function(){var e=Object(h.c)((function(e){return e.user_reducer})),t=e.currentUser,n=e.isAuthenticated,a=Object(h.b)(),s=function(){var e=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(y.URL,"/verify"),{},{withCredentials:!0});case 3:t=e.sent,(n=t.data)&&(a(g(n.userData)),a(v(!0))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a(v(!1)),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){s()}),[n]);var i=function(e){return n?Object(r.jsx)(d.a,{to:"user/".concat(t._id)}):e};return Object(r.jsx)(Ke,{children:Object(r.jsx)(Ie,{children:Object(r.jsx)(b.a,{children:Object(r.jsxs)(d.d,{children:[Object(r.jsx)(d.b,{path:"/",exact:!0,render:function(){return i(Object(r.jsx)(d.a,{to:"/login"}))}}),Object(r.jsx)(d.b,{path:"/login",render:function(){return i(Object(r.jsx)(Oe,{}))}}),Object(r.jsx)(d.b,{path:"/signup",render:function(){return i(Object(r.jsx)(ge,{}))}}),Object(r.jsx)(d.b,{path:"/edit/:id",component:ze}),Object(r.jsx)(d.b,{path:"/user/:id",component:Ee})]})})})})},Ke=l.b.div(Ze()),Ie=l.b.div(Ve()),We=n(42),Je=n(49),Me={currentUser:null,isAuthenticated:!1},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case f:return Object(Je.a)(Object(Je.a)({},e),{},{currentUser:r});case m:return Object(Je.a)(Object(Je.a)({},e),{},{isAuthenticated:r});default:return e}},$e=Object(We.b)({user_reducer:Qe}),Ye=Object(We.c)($e);s.a.render(Object(r.jsx)(c.StrictMode,{children:Object(r.jsx)(h.a,{store:Ye,children:Object(r.jsx)(Ge,{})})}),document.getElementById("root"))}},[[299,1,2]]]);